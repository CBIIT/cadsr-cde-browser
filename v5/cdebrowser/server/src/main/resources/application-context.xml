<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:task="http://www.springframework.org/schema/task"
       xmlns:jee="http://www.springframework.org/schema/jee"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/util
       http://www.springframework.org/schema/util/spring-util.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc.xsd
       http://www.springframework.org/schema/task
       http://www.springframework.org/schema/task/spring-task.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd">


     <mvc:annotation-driven/>
     <context:component-scan base-package="gov.nih.nci.cadsr" />

    <bean class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor"/>

    <context:property-placeholder location="classpath:cdeBrowser.server.properties"/>

    <bean id="testController" class="gov.nih.nci.cadsr.service.restControllers.TestController" >
     </bean>

    <bean id="basicSearchController" class="gov.nih.nci.cadsr.service.restControllers.BasicSearchController" >
        <property name="basicSearchDAO" ref="basicSearchDAO" />
        <property name="dataElementDAO" ref="dataElementDAO" />
        <property name="restControllerCommon" ref="resControllerCommon" />
    </bean>

    <bean id="contextDataController" class="gov.nih.nci.cadsr.service.restControllers.ContextDataController"  >
        <property name="classificationSchemeDAO" ref="classificationSchemeDAO" />
        <property name="contextDAO" ref="contextDAO" />
        <property name="csCsiDAO" ref="csCsiDAO" />
        <property name="protocolFormDAO" ref="protocolFormDAO" />
        <property name="protocolDAO" ref="protocolDAO" />
        <property name="restControllerCommon" ref="resControllerCommon" />
    </bean>

    <bean id="abstractDao" abstract="true" class="gov.nih.nci.cadsr.dao.operation.AbstractDAOOperations">
        <constructor-arg name="dataSource" index="0" ref ="dataSource"/>
    </bean>

    <bean id="resControllerCommon" class="gov.nih.nci.cadsr.service.restControllers.RestControllerCommon" >
        <property name="programAreaDAO" ref="programAreaDAO" />
    </bean>

    <bean id="classificationSchemeDAO" class="gov.nih.nci.cadsr.dao.ClassificationSchemeDAOImpl"  parent="abstractDao" />
    <bean id="contextDAO" class="gov.nih.nci.cadsr.dao.ContextDAOImpl"  parent="abstractDao" />
    <bean id="csCsiDAO" class="gov.nih.nci.cadsr.dao.CsCsiDAOImpl"  parent="abstractDao" />
    <bean id="protocolFormDAO" class="gov.nih.nci.cadsr.dao.ProtocolFormDAOImpl"  parent="abstractDao" />
    <bean id="protocolDAO" class="gov.nih.nci.cadsr.dao.ProtocolDAOImpl"  parent="abstractDao" />
    <bean id="basicSearchDAO" class="gov.nih.nci.cadsr.dao.BasicSearchDAOImpl"  parent="abstractDao" />
    <bean id="programAreaDAO" class="gov.nih.nci.cadsr.dao.ProgramAreaDAOImpl"  parent="abstractDao" />
    <bean id="dataElementDAO" class="gov.nih.nci.cadsr.dao.DataElementDAOImpl"  parent="abstractDao" />
    <bean id="dataSource" class="org.springframework.jndi.JndiObjectFactoryBean">
        <property name="jndiName" value="java:jboss/datasources/CDEBrowserDS"/>
    </bean>

</beans>